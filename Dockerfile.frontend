# Custom Langflow Frontend with increased upload limit
FROM langflowai/langflow-frontend:latest

# Set client_max_body_size in main nginx.conf
RUN sed -i '/http {/a\    client_max_body_size 100M;' /etc/nginx/nginx.conf

# Also add to default.conf server block
RUN sed -i '/listen.*8080;/a\    client_max_body_size 100M;' /etc/nginx/conf.d/default.conf

# Verify nginx config
RUN nginx -t
